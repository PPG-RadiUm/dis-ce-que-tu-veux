{% extends 'base.html.twig' %}

{% block body %}
<section class="main-section" id="play">
    <div class="container">
        <div class="row" style="text-align: center;">
            <div class="col-lg-12 col-sm-12 wow">
                <div class="service-list">
                    <input id="lobby_id" type="hidden" value="{{ room.id }}"/>
                    <input id="lobby_player_pseudo" type="hidden" value="{{ player_pseudo }}"/>
                    <input id="lobby_player_role" type="hidden" value="{{ player_role }}"/>
                    <!--TODO : Aspect fonctionnel avec WebSocket -->
                    <!--TODO : Création du design -->
                    Votre salon : {{ room.id }}<br/>

                    Id Créateur : {{ room.host.id }}<br/>

                    Liste des participants :
                    <ul id="lobby_participants_list">
                    {% for participant in room.participants %}
                        {% if participant.id == room.host.id %}
                            <li class="lobby_host">{{ participant.pseudo }} < Host</li>
                        {% else %}
                            <li>{{ participant.pseudo }}</li>
                        {% endif %}
                    {% endfor %}
                    </ul>
                    <br/>

                    Liste de l'audience :
                    <ul id="lobby_audience_list">
                    {% if room.audience is empty %}
                        Personne dans l'audience pour le moment.
                    {% else %}
                        {% for audience_member in room.audience %}
                            <li>{{ audience_member.pseudo }}</li>
                        {% endfor %}
                    {% endif %}
                    </ul>
                    <br/>

                    Maximum de participants : {{ room.capParticipants }}<br/>

                    Type :
                    {% if room.type == 0 %}
                        Public
                    {% else %}
                        Privé
                    {% endif %}
                    <br/>

                </div>
            </div>
        </div>
    </div>
</section>
{{ ws_client() }}
{% endblock %}

{% block scripts %}
    {{ parent() }}
    <script type="application/javascript" src="{{ asset('js/own_scripts/gws_lobby.js') }}"></script>
{% endblock %}
